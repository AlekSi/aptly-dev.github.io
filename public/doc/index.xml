<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>Docs on aptly - Debian repository management tool </title>
      <generator uri="https://hugo.spf13.com">Hugo</generator>
    <link>http://localhost:1313/doc/index.xml</link>
    <language>en-us</language>
    
    
    <updated>Fri, 08 Aug 2014 11:17:38 UTC</updated>
    
    <item>
      <title>aptly db</title>
      <link>http://localhost:1313/doc/aptly/db</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/db</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly db&lt;/h2&gt;

&lt;p&gt;aptly db subcommands manage aptly&amp;rsquo;s internal metadata database and
package pool.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>aptly db recover</title>
      <link>http://localhost:1313/doc/aptly/db/recover</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/db/recover</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly db recover&lt;/h2&gt;

&lt;p&gt;Database recover does its best to recover database after crash. It is
recommended to backup DB before running recover. Recover procedures
ignores all index files and tries to reconstruct them from &lt;code&gt;.sst&lt;/code&gt; files.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly db recover
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly db recover
Recovering DB...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>aptly db cleanup</title>
      <link>http://localhost:1313/doc/aptly/db/cleanup</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/db/cleanup</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly db cleanup&lt;/h2&gt;

&lt;p&gt;Database cleanup removes information about unreferenced packages and
deletes files in the package pool that aren&amp;rsquo;t used by packages anymore.
It is a good idea to run this command after massive deletion of
mirrors/snapshots.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly db cleanup
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly db cleanup
Loading mirrors and snapshots...
Loading list of all packages...
Deleting unreferenced packages (325)...
Building list of files referenced by packages...
Building list of files in package pool...
Deleting unreferenced files (325)...
Disk space freed: 0.27 GiB...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>aptly graph</title>
      <link>http://localhost:1313/doc/aptly/graph</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/graph</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly graph&lt;/h2&gt;

&lt;p&gt;aptly generates graph showing depedencies between mirrors, snapshots and
published repositories.
 &lt;/p&gt;

&lt;p&gt;Command graph generates graph of dependencies between snapshots and
(what mirrors were used to create each snapshots), between snapshots
(pulling, merging, etc.) and between snapshots and published
repositories (how snapshots were published). Graph is rendered to PNG
file using graphviz package.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly graph
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;/img/graphfull.png&#34;&gt;&lt;img src=&#34;/img/graph.png&#34; alt=&#34;Example graph from aptly graph&#34; class=&#34;img-responsive&#34;&gt;&lt;/a&gt;
 &lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>aptly mirror show</title>
      <link>http://localhost:1313/doc/aptly/mirror/show</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/mirror/show</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly mirror show&lt;/h2&gt;

&lt;p&gt;Shows detailed information about mirror.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly mirror show &amp;lt;name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Params are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;name&lt;/code&gt; is a mirror name (given when mirror was created)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Flags:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-with-packages=false&lt;/code&gt;: show detailed list of packages and versions
stored in the mirror&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly mirror show backports2
Name: backports2
Archive Root URL: http://mirror.yandex.ru/backports.org/
Distribution: squeeze-backports
Components: main, contrib, non-free
Architectures: i386, amd64
Last update: 2013-12-27 19:30:19 MSK
Number of packages: 3898

Information from release file:
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In detailed information basic information about mirror is displayed:
filters by component &amp;amp; architecture, timestamp of last successful
repository fetch and number of packages.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Commands</title>
      <link>http://localhost:1313/doc/commands</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/commands</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;Commands&lt;/h2&gt;
</description>
    </item>
    
    <item>
      <title>aptly snapshot merge</title>
      <link>http://localhost:1313/doc/aptly/snapshot/merge</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/snapshot/merge</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly snapshot merge&lt;/h2&gt;

&lt;p&gt;Merge merges several snapshots into one. Merge happens from left to
right. By default, packages with the same name-architecture pair are
replaced during merge (package from latest snapshot on the list wins).
With &lt;code&gt;-latest&lt;/code&gt;, package with latest version wins. With &lt;code&gt;-no-remove&lt;/code&gt;
flag, all versions of packages are preserved during merge. If only one
snapshot is specified, merge copies &lt;code&gt;source&lt;/code&gt; into &lt;code&gt;destination&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly snapshot merge &amp;lt;destination&amp;gt; &amp;lt;source&amp;gt; [&amp;lt;source&amp;gt;...]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Params:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;destination&lt;/code&gt; is a name of the snapshot that would be created&lt;/li&gt;
&lt;li&gt;&lt;code&gt;source&lt;/code&gt; is a list of snapshot names that would be merged together&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Flags:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-latest=false&lt;/code&gt;: use only the latest version of each package&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-no-remove=false&lt;/code&gt;: don&amp;rsquo;t remove duplicate arch/name packages&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly snapshot merge debian-w-backports debian-main debian-backports

Snapshot debian-w-backports successfully created.
You can run &#39;aptly publish snapshot debian-w-backports&#39; to publish snapshot as Debian repository.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>aptly snapshot diff</title>
      <link>http://localhost:1313/doc/aptly/snapshot/diff</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/snapshot/diff</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly snapshot diff&lt;/h2&gt;

&lt;p&gt;Displays difference in packages between two snapshots. Snapshot is a
list of packages, so difference between snapshots is a difference
between package lists. Package could be either completely missing in one
snapshot, or package is present in both snapshots with different
versions.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly snapshot diff &amp;lt;name-a&amp;gt; &amp;lt;name-b&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Params:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;name-a&lt;/code&gt; is snapshot name which is &amp;ldquo;on the left&amp;rdquo; during comparison&lt;/li&gt;
&lt;li&gt;&lt;code&gt;name-b&lt;/code&gt; is snapshot name which is &amp;ldquo;on the right&amp;rdquo; during comparison&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Flags:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-only-matching=false&lt;/code&gt;: display diff only for matching packages
(don&amp;rsquo;t display missing packages)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly snapshot diff snap-deb2-main snap-deb-main-w-xorg
  Arch   | Package                                  | Version in A                             | Version in B
! amd64  | libxfont1                                | 1:1.4.1-3                                | 1:1.4.4-1~bpo60+1
! i386   | libxfont1                                | 1:1.4.1-3                                | 1:1.4.4-1~bpo60+1
! all    | xserver-common                           | 2:1.7.7-16                               | 2:1.10.4-1~bpo60+2
! amd64  | xserver-xorg                             | 1:7.5+8+squeeze1                         | 1:7.6+8~bpo60+1
! i386   | xserver-xorg                             | 1:7.5+8+squeeze1                         | 1:7.6+8~bpo60+1
! amd64  | xserver-xorg-core                        | 2:1.7.7-16                               | 2:1.10.4-1~bpo60+2
! i386   | xserver-xorg-core                        | 2:1.7.7-16                               | 2:1.10.4-1~bpo60+2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>aptly serve</title>
      <link>http://localhost:1313/doc/aptly/serve</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/serve</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly serve&lt;/h2&gt;

&lt;p&gt;aptly can serve published repositories using its own embedded webserver.
This is not recommended for production use, but is a quick way to try
out published repository. &lt;/p&gt;

&lt;p&gt;Command serve starts embedded HTTP server (not suitable for real
production usage) to serve contents of public/ subdirectory of aptly&amp;rsquo;s
root that contains published repositories. aptly would print recommended
&lt;code&gt;apt-sources&lt;/code&gt; for the currently published repositories. By default aptly
would listen on port 8080, but this can be changed with flag &lt;code&gt;-listen&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly serve -listen=:8080
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Flags:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-listen=&amp;quot;:8080&amp;quot;&lt;/code&gt;: host:port for HTTP listening&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly serve -listen=127.0.0.1:8765
Serving published repositories, recommended apt sources list:

# ./maverick (main) [amd64, i386] publishes [snap1]: Snapshot from mirror [gnuplot-maverick]: http://ppa.launchpad.net/gladky-anton/gnuplot/ubuntu/ maverick
deb http://127.0.0.1:8765/ maverick main
# debian/maverick (main) [amd64, i386] publishes [snap2]: Snapshot from mirror [gnuplot-maverick]: http://ppa.launchpad.net/gladky-anton/gnuplot/ubuntu/ maverick
deb http://127.0.0.1:8765/debian/ maverick main

Starting web server at: 127.0.0.1:8765 (press Ctrl+C to quit)...
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>aptly snapshot</title>
      <link>http://localhost:1313/doc/aptly/snapshot</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/snapshot</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly snapshot&lt;/h2&gt;

&lt;p&gt;Snapshot is a fixed state of remote repository. Internally snapshot is
list of packages with explicit version. Snapshot is immutable, i.e. it
can&amp;rsquo;t change since it has been created.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Overview</title>
      <link>http://localhost:1313/doc/overview</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/overview</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;Overview&lt;/h2&gt;

&lt;p&gt;aptly goal is to establish repeatiblity and controlled changes in
package environment. aptly allows to fix set of packages in repository,
so that package installation and upgrade becomes deterministic. At the
same time aptly allows to perform controlled, fine-grained changes in
repository contents to transition your package environment to new
version.
 &lt;/p&gt;

&lt;dl&gt;
    &lt;dt&gt;mirror&lt;/dt&gt;
    &lt;dd&gt;mirror of remote repository, consists of metadata, list of packages
    and package files&lt;/dd&gt;
    &lt;dt&gt;local repo&lt;/dt&gt;
    &lt;dd&gt;local package repository, consists of metadata, packages and files,
    packages could be easily added and removed&lt;/dd&gt;
    &lt;dt&gt;snapshot&lt;/dt&gt;
    &lt;dd&gt;immutable list of packages, basic block to implement repeatability
    and controlled changes&lt;/dd&gt;
    &lt;dt&gt;published repository&lt;/dt&gt;
    &lt;dd&gt;published representation of snapshot or local repository, ready to
    be consumed by apt tools&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;The schema of aptly&amp;rsquo;s commands and transitions between entities:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/schema.png&#34; alt=&#34;aptly core schema&#34; class=&#34;img-responsive&#34;&gt;&lt;/p&gt;

&lt;p&gt;We can start with creating &lt;a href=&#34;#aptly-mirror-create&#34;&gt;mirrors of remote
repositories&lt;/a&gt;. Also you can create &lt;a href=&#34;#aptly-repo-create&#34;&gt;local package
repositories&lt;/a&gt; and import there packages as files.
Local repos could be modified by &lt;a href=&#34;#aptly-repo-copy&#34;&gt;copying&lt;/a&gt; and
&lt;a href=&#34;#aptly-repo-move&#34;&gt;moving&lt;/a&gt; packages between local repositories and
&lt;a href=&#34;#aptly-repo-import&#34;&gt;importing&lt;/a&gt; them from mirrors. Snapshot could be
&lt;a href=&#34;#aptly-snapshot-create&#34;&gt;created&lt;/a&gt; from remote repository (official
Debain repositories, backports, 3rd party repos, etc.) or your local
repository (custom built packages, your own software). Snapshots can be
used to produce new snapshots by &lt;a href=&#34;#aptly-snapshot-pull&#34;&gt;pulling&lt;/a&gt;
packages with dependencies between snapshots and by
&lt;a href=&#34;#aptly-snapshot-merge&#34;&gt;merging&lt;/a&gt; snapshots. Any snapshot can be
&lt;a href=&#34;#aptly-publish-snapshot&#34;&gt;published&lt;/a&gt; to location (distribution name,
prefix) and consumed by &lt;code&gt;apt&lt;/code&gt; tools on your Debian systems. Local
repositories could be &lt;a href=&#34;#aptly-publish-repo&#34;&gt;published directly&lt;/a&gt;
bypassing snapshot step.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>aptly snapshot show</title>
      <link>http://localhost:1313/doc/aptly/snapshot/show</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/snapshot/show</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly snapshot show&lt;/h2&gt;

&lt;p&gt;Shows detailed information about snapshot. Full list of packages in the
snapshot is displayed as well.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly snapshot show &amp;lt;name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Params:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;name&lt;/code&gt; is snapshot name which has been given during snapshot
creation&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Flags:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-with-packages=false&lt;/code&gt;: show detailed list of packages and versions
stored in the mirror&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly snapshot show back
Name: back
Created At: 2013-12-24 15:39:29 MSK
Description: Snapshot from mirror [backports2]: http://mirror.yandex.ru/backports.org/ squeeze-backports
Number of packages: 3898
Packages:
  altos-1.0.3~bpo60+1_i386
  amanda-client-1:3.3.1-3~bpo60+1_amd64
  ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>aptly snapshot rename</title>
      <link>http://localhost:1313/doc/aptly/snapshot/rename</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/snapshot/rename</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly snapshot rename&lt;/h2&gt;

&lt;p&gt;Command changes name of the snapshot. Snapshot name should be unique.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly snapshot rename &amp;lt;old-name&amp;gt; &amp;lt;new-name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Params:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;old-name&lt;/code&gt; is current snapshot name&lt;/li&gt;
&lt;li&gt;&lt;code&gt;new-name&lt;/code&gt; is new snapshot name&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly snapshot rename whezy-main wheezy-main

Snapshot whezy-main -&amp;gt; wheezy-main has been successfully renamed.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>aptly mirror</title>
      <link>http://localhost:1313/doc/aptly/mirror</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/mirror</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly mirror&lt;/h2&gt;
</description>
    </item>
    
    <item>
      <title>aptly snapshot drop</title>
      <link>http://localhost:1313/doc/aptly/snapshot/drop</link>
      <pubDate>Fri, 08 Aug 2014 11:17:38 UTC</pubDate>
      
      <guid>http://localhost:1313/doc/aptly/snapshot/drop</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;aptly snapshot drop&lt;/h2&gt;

&lt;p&gt;Drop removes information about snapshot. If snapshot is published, it
can&amp;rsquo;t be dropped (first remove publishing for snapshot). If snapshot is
used as source for other snapshots (using merge or pull), aptly would
refuse to drop such snapshot, use flag &lt;code&gt;-force&lt;/code&gt; to override this check.&lt;/p&gt;

&lt;p&gt;Usage:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aptly snapshot drop &amp;lt;name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Params:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;name&lt;/code&gt; is snapshot name which has been given during snapshot
creation&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Flags:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-force=false&lt;/code&gt;: drop snapshot even if it used as source in other
snapshots&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Dropping snapshot only removes metadata, in order to cleanup the disk
space occupied by package files you might need to run
&lt;a href=&#34;#aptly-db-cleanup&#34;&gt;&lt;code&gt;aptly db cleanup&lt;/code&gt;&lt;/a&gt; command (package files would be
removed only if they&amp;rsquo;re not referenced by mirrors and other snapshots
anymore).&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ snapshot drop snap-wheezy
Snapshot `snap-wheezy` has been dropped.
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>