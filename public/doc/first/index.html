<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>aptly - Debian repository management tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/favicon.ico">
    <link type="text/css" rel="stylesheet" href="/css/styles.css">
    <link rel="canonical" href="http://localhost:1313/doc/first">
    <link href="" rel="alternate" type="application/rss+xml" title="aptly - Debian repository management tool" />
    
  </head>
  <body>
    <header id="page-header">
      <div class="container">
                <nav class="navbar navbar-default navbar-static-top" role="navigation">
          <ul class="nav navbar-nav nav-justified">
            <li><a href="/examples/">examples</a></li>
            <li><a href="/download/">download</a></li>
            <li><a href="/support/">support</a></li>
            <li><a href="/doc/">documentation</a></li>
            <li><a href="/about/">about</a></li>
            <li><a href="/post/">blog</a></li>
          </ul>
        </nav>

        <div class="row">
          <div class="col-md-6 col-md-offset-3 text-center">
            <div class="brand">
              <i class="brand-logo"></i>
              <span class="brand-name">aptly</span>
            </div>
          </div>
        </div>
      
      </div>
    </header>

    
    <section class="documentation">
      <div class="container">
        <div class="sidebar-overlay"></div>
        <div class="row">
          <div class="col-md-3 col-sm-3 col-xs-3">
            <div class="sidebar">
              <ul class="nav nav-sidebar">
                <li><a href="#">Overview</a></li>
                <li><a href="#">Why Aptly?</a></li>
                <li><a href="#">Instalation</a></li>
                <li><a href="#">Getting Started</a></li>
                <li class="active">
                  <a href="#">Command-Line</a>
                  <ul class="nav">
                    <li><a href="#">Basic usage</a></li>
                    <li class="active">
                      <a href="#">File</a>
                      <ul class="nav">
                        <li><a href="#">Create</a></li>
                        <li class="active"><a href="#">Open</a></li>
                        <li><a href="#">Merge files</a></li>
                        <li><a href="#">Export</a></li>
                      </ul>
                    </li>
                    <li><a href="#">Shell</a></li>
                    <li><a href="#">Ansible</a></li>
                    <li><a href="#">CFEngine</a></li>
                    <li><a href="#">Chef Solo</a></li>
                  </ul>
                </li>
                <li><a href="#">Commands</a></li>
                <li><a href="#">Sync folders</a></li>
                <li><a href="#">Networking</a></li>
                <li><a href="#">Other</a></li>
              </ul>
              <div class="source-buttons">
                <a href="#" class="btn btn-danger">Download</a>
                <a href="#" class="btn btn-default">Github</a>
              </div>
            </div>
          </div>
          <div class="col-md-9 col-sm-9 col-xs-9">
            <p>Lalalala</p>

            <h2>Post-processors</h2>
            <p>The post-processor section within a template configures any post-processing that will be done to images built by the builders. Examples of post-processing would be compressing files, uploading artifacts, etc.</p>
            <p>Post-processors are optional. If no post-processors are defined within a template, then no post-processing will be done to the image. The resulting artifact of a build is just the image outputted by the builder.</p>
            <p>This documentation page will cover how to configure a post-processor in a template. The specific configuration options available for each post-processor, however, must be referenced from the documentation for that specific post-processor.</p>
            <p>Within a template, a section of post-processor definitions looks like this:</p>
            <div class="code">
              $ gpg --keyserver keys.gnupg.net --recv-keys 2A194991<br>
              $ gpg -a --export 2A194991 | sudo apt-key add -
            </div>
            <p>For each post-processor definition, Packer will take the result of each of the defined builders and send it through the post-processors. This means that if you have one post-processor defined and two builders defined in a template, the post-processor will run twice (once for each builder), by default. There are ways, which will be covered later, to control what builders post-processors apply to, if you wish.</p>
            <h2>Input Artifacts</h2>
            <p>When using post-processors, the input artifact (coming from a builder or another post-processor) is discarded by default after the post-processor runs. This is because generally, you don't want the intermediary artifacts on the way to the final artifact created.</p>
            <p>In some cases, however, you may want to keep the intermediary artifacts. You can tell Packer to keep these artifacts by setting the <code>keep_input_artifact</code> configuration to <code>true</code>.</p>
            <p>An example is shown below:</p>
            <div class="code">
              $ apt-get update<br>
              $ apt-get install aptly<br>
              <br>
              $ go get -u github.com/mattn/gom<br>
              $ aptly --option1 command ...
            </div>
            <p>This setting will only keep the input artifact to that specific post-processor. If you're specifying a sequence of post-processors, then all intermediaries are discarded by default except for the input artifacts to post-processors that explicitly state to keep the input artifact.</p>
            <div class="alert alert-warning alert-note">
              <p><b>Note</b>: The intuitive reader may be wondering what happens if multiple post-processors are specified (not in a sequence). Does Packer require the configuration to keep the input artifact on all the post-processors? The answer is no, of course not. Packer is smart enough to figure out that at least one post-processor requested that the input be kept, so it will keep it around.</p>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <footer id="page-footer">
      <div class="container">
                <nav class="navbar navbar-default navbar-static-top" role="navigation">
          <ul class="nav navbar-nav nav-justified">
            <li><a href="/examples/">examples</a></li>
            <li><a href="/download/">download</a></li>
            <li><a href="/support/">support</a></li>
            <li><a href="/doc/">documentation</a></li>
            <li><a href="/about/">about</a></li>
            <li><a href="/post/">blog</a></li>
          </ul>
        </nav>

        <div class="copy">
          &copy;&nbsp;Andrey Smirnov
        </div>
      </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
  <script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>
